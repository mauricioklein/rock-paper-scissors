(a=>{a.ApiProxy={call:(a,b,c)=>{return fetch(`/game/${a}`,{method:'POST',headers:{"Content-Type":'application/json'},body:JSON.stringify({p1_choice:b,p2_choice:c})}).then(a=>a.json()).catch(a=>console.error(a))}}})(window),(()=>{const a=$('#gameType').val(),b={optionsBar:$('#optionsBar'),result:{container:$('#result'),player1Choice:$('.scorebox > #player-1-choice'),player2Choice:$('.scorebox > #player-2-choice'),winner:$('.scorebox > #winner')}},c=(b=null,c=null)=>window.ApiProxy.call(a,b,c),d=a=>{switch(b.result.player1Choice.text(`You choose ${a.player_1_choice}`),b.result.player2Choice.text(`The oponent choose ${a.player_2_choice}`),a.winner){case'Player 1':b.result.winner.text('You won \\o/');break;case'Player 2':b.result.winner.text('You lost :(');break;default:b.result.winner.text('It\'s a draw');}b.optionsBar.addClass('hidden'),b.result.container.removeClass('hidden')},e=()=>{b.optionsBar.removeClass('hidden'),b.result.container.addClass('hidden')};$('[id^=gameOption-]').on('click',a=>{c(a.target.value).then(a=>d(a))}),$('#newGame').on('click',()=>{e()})})();