!function(){return function e(t,r,n){function i(s,a){if(!r[s]){if(!t[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var h=r[s]={exports:{}};t[s][0].call(h.exports,function(e){return i(t[s][1][e]||e)},h,h.exports,e,t,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}}()({1:[function(e,t,r){class n{static call(e,t=null,r=null){const n={p1_choice:t,p2_choice:r};return fetch(`/game/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})}}Object.freeze(n),t.exports=n},{}],2:[function(e,t,r){const n=e("./api_proxy"),i=new(e("./dom"));i.optionsSelector.on("click",e=>{n.call(i.gameType,e.target.value).then(e=>e.json().then(t=>e.ok?t:Promise.reject(t))).then(e=>i.renderResult(e)).catch(e=>console.error("Error contacting API: ",e))}),i.newGameButton.on("click",()=>{i.startNewGame()})},{"./api_proxy":1,"./dom":3}],3:[function(e,t,r){const n=e("./helper");t.exports=class{constructor(){this.optionsSelector=$("[id^=gameOption-]"),this.player2={container:$("#player2-container"),choice:$("#player2-container > #choice")},this.result={container:$("#result-container"),winner:$("#winner")},this.newGameButton=$("#new-game"),this.gameType=$("#gameType").val()}renderResult(e){const t=e.player_1_choice,r=e.player_2_choice,n=e.winner;this.setPlayer1Choice(t),this.setPlayer2Choice(r),this.setWinner(n),this.showResult()}startNewGame(){this.hideResult(),this.showOptions()}setPlayer1Choice(e){this.optionsSelector.filter((t,r)=>r.value!==e).addClass("hidden")}setPlayer2Choice(e){this.player2.choice.attr("src",n.imgPath(e))}showOptions(){this.optionsSelector.removeClass("hidden")}setWinner(e){this.result.winner.text(n.winnerLine(e))}showResult(){this.player2.container.removeClass("hidden"),this.result.container.removeClass("hidden")}hideResult(){this.player2.container.addClass("hidden"),this.result.container.addClass("hidden")}}},{"./helper":4}],4:[function(e,t,r){class n{static imgPath(e){return`/images/game-options/${e}.png`}static winnerLine(e){switch(e){case"Player 1":return"You won!";case"Player 2":return"You lost!";default:return"Draw!"}}}Object.freeze(n),t.exports=n},{}]},{},[2]);